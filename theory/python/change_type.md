# æ•°æ®ç±»å‹è½¬æ¢

âŒšï¸:2020å¹´11æœˆ30æ—¥

ğŸ“šå‚è€ƒ

---

## 1. int

æ”¯æŒè½¬æ¢ä¸º int ç±»å‹çš„ï¼Œä»…æœ‰ `float`ã€`str`ã€`bytes`ï¼Œå…¶ä»–ç±»å‹å‡ä¸æ”¯æŒã€‚

### float -> int

ä¼šå»æ‰å°æ•°ç‚¹åŠåé¢çš„æ•°å€¼ï¼Œä»…ä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚

```py
int(-12.94)     # -12
```

### str -> int

å¦‚æœå­—ç¬¦ä¸²ä¸­æœ‰æ•°å­—(0-9)å’Œæ­£è´Ÿå·(+/-)ä»¥å¤–çš„å­—ç¬¦ï¼Œå°±ä¼šæŠ¥é”™ã€‚

```py
int('1209')     # 1209
int('-12')      # -12
int('+1008')    # 1008
```

### bytes -> int

å¦‚æœ bytes ä¸­æœ‰æ•°å­—(0-9)å’Œæ­£è´Ÿå·(+/-)ä»¥å¤–çš„å­—ç¬¦ï¼Œå°±ä¼šæŠ¥é”™ã€‚

```py
int(b'1209')     # 1209
int(b'-12')      # -12
int(b'+1008')    # 1008
```

## 2. float

æ”¯æŒè½¬æ¢ä¸º float ç±»å‹çš„ï¼Œä»…æœ‰ `int`ã€`str`ã€`bytes`ï¼Œå…¶ä»–ç±»å‹å‡ä¸æ”¯æŒã€‚

### int -> float

int è½¬æ¢ä¸º float æ—¶ï¼Œä¼šè‡ªåŠ¨ç»™æ·»åŠ ä¸€ä½å°æ•°ã€‚

```py
float(-1209)     # -1209.0
```

### str -> float

å¦‚æœå­—ç¬¦ä¸²å«æœ‰æ­£è´Ÿå·(+/-)ã€æ•°å­—(0-9)å’Œå°æ•°ç‚¹(.)ä»¥å¤–çš„å­—ç¬¦ï¼Œåˆ™ä¸æ”¯æŒè½¬æ¢ã€‚

```py
float('-1209')          # -1209.0
float('-0120.29023')    # -120.29023
```

### bytes -> float

å¦‚æœ bytes ä¸­å«æœ‰æ­£è´Ÿå·(+/-)ã€æ•°å­—(0-9)å’Œå°æ•°ç‚¹(.)ä»¥å¤–çš„å­—ç¬¦ï¼Œåˆ™ä¸æ”¯æŒè½¬æ¢ã€‚

```py
float(b'-1209')         # -1209.0
float(b'-0120.29023')   # -120.29023
```

## 3. complex

ä»…æ”¯æŒ `int`ã€`float`ã€`str` è½¬æ¢æˆ complex ç±»å‹ã€‚

### int -> complex

int è½¬æ¢ complex æ—¶ï¼Œä¼šè‡ªåŠ¨æ·»åŠ è™šæ•°éƒ¨åˆ†å¹¶ä»¥`0j`è¡¨ç¤ºã€‚

```py
complex(12)         # (12+0j)
```

### float -> complex

float è½¬æ¢ complex æ—¶ï¼Œä¼šè‡ªåŠ¨æ·»åŠ è™šæ•°éƒ¨åˆ†å¹¶ä»¥`0j`è¡¨ç¤ºã€‚

```py
complex(-12.09)     # (-12.09+0j)
```

### str -> complex

str è½¬æ¢ complex æ—¶ï¼Œå¦‚æœèƒ½è½¬æ¢æˆ int æˆ– floatï¼Œåˆ™ä¼šè½¬æ¢åå†è½¬ä¸º complexã€‚å¦‚æœå­—ç¬¦ä¸²å®Œå…¨ç¬¦åˆ complex è¡¨è¾¾å¼è§„åˆ™ï¼Œä¹Ÿå¯ä»¥è½¬æ¢ä¸º complex ç±»å‹å€¼ã€‚

```py
complex('-12.09')       # (-12.09+0j)complex('-12.0')        # (-12+0j)ï¼Œå»é™¤äº†å°æ•°éƒ¨åˆ†complex('-12')          # (-12+0j)complex('-12+9j')       # (-12+9j)complex('(-12+9j)')     # (-12+9j)complex('-12.0-2.0j')   # (-12-2j)ï¼Œå»é™¤äº†å°æ•°éƒ¨åˆ†complex('-12.0-2.09j')  # (-12-2.09j)complex(b'12')          # æŠ¥é”™ï¼Œä¸æ”¯æŒ bytes è½¬æ¢ä¸º complexcomplex('12 + 9j')      # æŠ¥é”™ï¼ŒåŠ å·ä¸¤ä¾§ä¸å¯æœ‰ç©ºæ ¼
```

## 4. str

`str()` å‡½æ•°å¯ä»¥å°†ä»»æ„å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

### int -> str

int è½¬æ¢ str ä¼šç›´æ¥å®Œå…¨è½¬æ¢ã€‚

```py
str(12)     # 12
```

### float -> str

float è½¬æ¢ str ä¼šå»é™¤æœ«ä½ä¸º 0 çš„å°æ•°éƒ¨åˆ†ã€‚

```py
str(-12.90)     # -12.9
```

### complex -> str

complex è½¬æ¢ strï¼Œä¼šå…ˆå°†å€¼è½¬åŒ–ä¸ºæ ‡å‡†çš„ complex è¡¨è¾¾å¼ï¼Œç„¶åå†è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

```py
str(complex(12 + 9j))   # (12+9j)str(complex(12, 9))     # (12+9j)
```

### bytes -> str

bytes å’Œ str çš„è½¬æ¢æ¯”è¾ƒç‰¹æ®Šç‚¹ï¼Œåœ¨ Python 3.x ä¸­ï¼Œå­—ç¬¦ä¸²å’Œå­—èŠ‚ä¸å†æ··æ·†ï¼Œè€Œæ˜¯å®Œå…¨ä¸åŒçš„æ•°æ®ç±»å‹ã€‚

è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼š

```py
str(b'hello world')        # b'hello world'
```

`str()` å‡½æ•°æŒ‡å®š encoding å‚æ•°ï¼Œæˆ–è€…ä½¿ç”¨ bytes.decode() æ–¹æ³•ï¼Œå¯ä»¥ä½œå®é™…æ•°æ®çš„è½¬æ¢ï¼š

```py
b'hello world'.decode()                             # hello worldstr(b'hello world', encoding='utf-8')               # hello worldstr(b'\xe4\xb8\xad\xe5\x9b\xbd', encoding='utf-8')  # ä¸­å›½
```

### list -> str

ä¼šå…ˆå°†å€¼æ ¼å¼åŒ–ä¸ºæ ‡å‡†çš„ list è¡¨è¾¾å¼ï¼Œç„¶åå†è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

```py
str([])                      # []str([1, 2, 3])              # [1, 2, 3]''.join(['a', 'b', 'c'])    # abc
```

### tuple -> str

ä¼šå…ˆå°†å€¼æ ¼å¼åŒ–ä¸ºæ ‡å‡†çš„ tuple è¡¨è¾¾å¼ï¼Œç„¶åå†è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

```py
str(())                     # ()str((1, 2, 3))              # (1, 2, 3)''.join(('a', 'b', 'c'))    # abc
```

### dict -> str

ä¼šå…ˆå°†å€¼æ ¼å¼åŒ–ä¸ºæ ‡å‡†çš„ dict è¡¨è¾¾å¼ï¼Œç„¶åå†è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

```py
str({'name': 'hello', 'age': 18})       # {'name': 'hello', 'age': 18}str({})                                 # {}''.join({'name': 'hello', 'age': 18})   # nameage
```

### set -> str

ä¼šå…ˆå°†å€¼æ ¼å¼åŒ–ä¸ºæ ‡å‡†çš„ set è¡¨è¾¾å¼ï¼Œç„¶åå†è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

```py
str(set({}))                # set()str({1, 2, 3})              # {1, 2, 3}''.join({'a', 'b', 'c'})    # abc
```

### å…¶ä»–ç±»å‹

è½¬æ¢å†…ç½®å¯¹è±¡ï¼š

```py
str(int)                # <class 'int'>ï¼Œè½¬æ¢å†…ç½®ç±»str(hex)                # <built-in function hex>ï¼Œè½¬æ¢å†…ç½®å‡½æ•°
```

è½¬æ¢ç±»å®ä¾‹ï¼š

```py
class Hello:    passobj = Hello()print(str(obj))# <__main__.Hello object at 0x1071c6630>
```

è½¬æ¢å‡½æ•°ï¼š

```py
def hello():    passprint(str(hello))# <function hello at 0x104d5a048>
```

## 5. bytes

ä»…æ”¯æŒ `str` è½¬æ¢ä¸º bytes ç±»å‹ã€‚

```py
'ä¸­å›½'.encode()                   # b'\xe4\xb8\xad\xe5\x9b\xbd'

bytes('ä¸­å›½', encoding='utf-8')   # b'\xe4\xb8\xad\xe5\x9b\xbd'
```

## 6. list

æ”¯æŒè½¬æ¢ä¸º list çš„ç±»å‹ï¼Œåªèƒ½æ˜¯åºåˆ—ï¼Œæ¯”å¦‚ï¼šstrã€tupleã€dictã€setç­‰ã€‚

### str -> list

```py
list('123abc')      # ['1', '2', '3', 'a', 'b', 'c']
```

### bytes -> list

bytes è½¬æ¢åˆ—è¡¨ï¼Œä¼šå–æ¯ä¸ªå­—èŠ‚çš„ ASCII åè¿›åˆ¶å€¼å¹¶ç»„åˆæˆåˆ—è¡¨

```py
list(b'hello')      # [104, 101, 108, 108, 111]
```

### tuple -> list

tuple è½¬æ¢ä¸º list æ¯”è¾ƒç®€å•ã€‚

```py
list((1, 2, 3))     # [1, 2, 3]
```

### dict -> list

å­—å…¸è½¬æ¢åˆ—è¡¨ï¼Œä¼šå–é”®åä½œä¸ºåˆ—è¡¨çš„å€¼ã€‚

```py
list({'name': 'hello', 'age': 18})  # ['name', 'age']
```

### set -> list

é›†åˆè½¬æ¢åˆ—è¡¨ï¼Œä¼šå…ˆå»é‡ä¸ºæ ‡å‡†çš„é›†åˆæ•°å€¼ï¼Œç„¶åå†è½¬æ¢ã€‚

```py
list({1, 2, 3, 3, 2, 1})    # [1, 2, 3]
```

## 7. tuple

ä¸åˆ—è¡¨ä¸€æ ·ï¼Œæ”¯æŒè½¬æ¢ä¸º tuple çš„ç±»å‹ï¼Œåªèƒ½æ˜¯åºåˆ—ã€‚

### str -> tuple

```py
tuple('ä¸­å›½äºº')    # ('ä¸­', 'å›½', 'äºº')
```

### bytes -> tuple

bytes è½¬æ¢å…ƒç»„ï¼Œä¼šå–æ¯ä¸ªå­—èŠ‚çš„ ASCII åè¿›åˆ¶å€¼å¹¶ç»„åˆæˆåˆ—è¡¨ã€‚

```py
tuple(b'hello')     # (104, 101, 108, 108, 111)
```

### list -> tuple

```py
tuple([1, 2, 3])    # (1, 2, 3)
```

### dict -> tuple

```py
tuple({'name': 'hello', 'age': 18})     # ('name', 'age')
```

### set -> tuple

```py
tuple({1, 2, 3, 3, 2, 1})       # (1, 2, 3)
```

## 8. dict

### str -> dict

- ä½¿ç”¨ json æ¨¡å—

  > ä½¿ç”¨ json æ¨¡å—è½¬æ¢ JSON å­—ç¬¦ä¸²ä¸ºå­—å…¸æ—¶ï¼Œéœ€è¦æ±‚å®Œå…¨ç¬¦åˆ JSON è§„èŒƒï¼Œå°¤å…¶æ³¨æ„é”®å’Œå€¼åªèƒ½ç”±å•å¼•å·åŒ…è£¹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

  ```py
  import json
  
  user_info = '{"name": "john", "gender": "male", "age": 28}'
  print(json.loads(user_info))
  
  # {'name': 'john', 'gender': 'male', 'age': 28}
  ```

- ä½¿ç”¨ eval å‡½æ•°

  > å› ä¸º eval å‡½æ•°èƒ½æ‰§è¡Œä»»ä½•ç¬¦åˆè¯­æ³•çš„è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å­˜åœ¨ä¸¥é‡çš„å®‰å…¨é—®é¢˜ï¼Œä¸å»ºè®®ã€‚

  ```py
  user_info = "{'name': 'john', 'gender': 'male', 'age': 28}"
  print(eval(user_info))
  
  # {'name': 'john', 'gender': 'male', 'age': 28}
  ```

- ä½¿ç”¨ ast.literal_eval æ–¹æ³•

  > ä½¿ç”¨ ast.literal_eval è¿›è¡Œè½¬æ¢æ—¢ä¸å­˜åœ¨ä½¿ç”¨ json è¿›è¡Œè½¬æ¢çš„é—®é¢˜ï¼Œä¹Ÿä¸å­˜åœ¨ä½¿ç”¨ eval è¿›è¡Œè½¬æ¢çš„ å®‰å…¨æ€§é—®é¢˜ï¼Œå› æ­¤æ¨èä½¿ç”¨ ast.literal_evalã€‚

  ```py
  import ast
  
  user_info = "{'name': 'john', 'gender': 'male', 'age': 28}"
  user_dict = ast.literal_eval(user_info)
  print(user_dict)
  
  # {'name': 'john', 'gender': 'male', 'age': 28}
  ```

### list -> dict

é€šè¿‡ zip å°† 2 ä¸ªåˆ—è¡¨æ˜ å°„ä¸ºå­—å…¸ï¼š

```py
list1 = [1, 2, 3, 4]
list2 = [1, 2, 3]
print(dict(zip(list1, list2)))

# {1: 1, 2: 2, 3: 3}
```

å°†åµŒå¥—çš„åˆ—è¡¨è½¬æ¢ä¸ºå­—å…¸ï¼š

```py
li = [
    [1, 111],
    [2, 222],
    [3, 333],
]

print(dict(li))

# {1: 111, 2: 222, 3: 333}
```

### tuple -> dict

é€šè¿‡ zip å°† 2 ä¸ªå…ƒç»„æ˜ å°„ä¸ºå­—å…¸ï¼š

```py
tp1 = (1, 2, 3)
tp2 = (1, 2, 3, 4)

print(dict(zip(tp1, tp2)))

# {1: 1, 2: 2, 3: 3}
```

å°†åµŒå¥—çš„å…ƒç»„è½¬æ¢ä¸ºå­—å…¸ï¼š

```py
tp = (
    (1, 111),
    (2, 222),
    (3, 333),
)

print(dict(tp))

# {1: 111, 2: 222, 3: 333}
```

### set -> dict

é€šè¿‡ zip å°† 2 ä¸ªé›†åˆæ˜ å°„ä¸ºå­—å…¸ï¼š

```py
set1 = {1, 2, 3}
set2 = {'a', 'b', 'c'}

print(dict(zip(set1, set2)))

# {1: 'c', 2: 'a', 3: 'b'}
```

## 9. set

### str -> set

å…ˆå°†å­—ç¬¦åˆ‡å‰²æˆå…ƒç»„ï¼Œç„¶åå†å»é‡è½¬æ¢ä¸ºé›†åˆã€‚

```py
print(set('hello'))     # {'l', 'o', 'e', 'h'}
```

### bytes -> set

ä¼šå–æ¯ä¸ªå­—èŠ‚çš„ ASCII åè¿›åˆ¶å€¼å¹¶ç»„åˆæˆå…ƒç»„ï¼Œå†å»é‡ã€‚

```py
set(b'hello')           # {104, 108, 101, 111}
```

### list -> set

å…ˆå¯¹åˆ—è¡¨å»é‡ï¼Œå†è½¬æ¢ã€‚

```py
set([1, 2, 3, 2, 1])    # {1, 2, 3}
```

### tuple -> set

å…ˆå¯¹åˆ—è¡¨å»é‡ï¼Œå†è½¬æ¢ã€‚

```py
set((1, 2, 3, 2, 1))    # {1, 2, 3}
```

### dict -> set

ä¼šå–å­—å…¸çš„é”®åç»„åˆæˆé›†åˆã€‚

```py
set({'name': 'hello', 'age': 18})

# {'age', 'name'}
```