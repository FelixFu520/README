# VS Code + UMLPlant

âŒšï¸:2021å¹´07æœˆ30æ—¥

ğŸ“šå‚è€ƒ

- [Plantä¸»é¡µ](https://plantuml.com/zh/)
- 

---

## 1. ä»‹ç»

UMLä»£è¡¨ç»Ÿä¸€å»ºæ¨¡è¯­è¨€ã€‚å®ƒæ˜¯ä¸€ç§é€šç”¨å»ºæ¨¡è¯­è¨€ï¼Œç”¨äºæ ‡å‡†åŒ–å¯è§†åŒ–è½¯ä»¶ç³»ç»Ÿä½“ç³»ç»“æ„çš„æ–¹æ³•ã€‚å®ƒæ˜¯ç”±[æ ¼é›·è¿ªBooch](https://en.wikipedia.org/wiki/Grady_Booch)ã€[ä¼Šç“¦å°”Â·é›…å„å¸ƒæ£®](https://en.wikipedia.org/wiki/Ivar_Jacobson)å’Œ[è©¹å§†æ–¯Â·é²åš](https://en.wikipedia.org/wiki/James_Rumbaugh)åœ¨1994-1995å¹´åœ¨[Rationalè½¯ä»¶](https://en.wikipedia.org/wiki/Rational_Software)å…¬å¸å¼€å‘ã€‚1997å¹´æ™šäº›æ—¶å€™ï¼Œè¯¥æ ‡å‡†è¢«é‡‡çº³ä¸ºè¡Œä¸šæ ‡å‡†ã€‚

UMLæ˜¯ä¸€ç§ç”¨å¹¿æ³›æ¥å—çš„å›¾å½¢ç¬¦å·è¡¨è¾¾è½¯ä»¶ç»„ä»¶è®¾è®¡çš„æ–¹æ³•ã€‚åœ¨ä½¿ç”¨ä»»ä½•æ–‡æœ¬ç¼–ç¨‹è¯­è¨€å¼€å§‹ç¼–å†™æ¨¡å‹æœ¬èº«ä¹‹å‰ï¼Œæ‹¥æœ‰å›¾å½¢æ¨¡å‹é€šå¸¸å¾ˆå¥½ã€‚ç¨åï¼Œè¯¥æ¨¡å‹ä¹Ÿå¯ç”¨äºæ–‡æ¡£ç›®çš„ã€‚UMLçš„ç”¨å¤„å¯ä»¥é€šè¿‡ä»¥ä¸‹ç°å®åœºæ™¯æ¥æè¿°ï¼šå½“æˆ‘ä»¬åŠ å…¥æ–°å¼€å‘äººå‘˜æ—¶ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ä»–ä»¬é˜…è¯»æ¯ä¸€è¡Œä»£ç å¹¶çŒœæµ‹å®ƒçš„å…¨éƒ¨å†…å®¹; æˆ‘ä»¬æƒ³ç»™ä»–ä»¬ä¸€ä¸ªæ•´ä¸ªç³»ç»Ÿçš„æ¦‚è¿°ã€‚åŒæ ·ï¼Œå½“æˆ‘ä»¬å¸Œæœ›ä»–ä»¬å¤„ç†æŸä¸ªåŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ä»–ä»¬åªæ˜¯å£å¤´ä¸Šçš„ç®€è¦ä»‹ç»; æˆ‘ä»¬å¸Œæœ›å®ƒä»¬å…·æœ‰æ‰€éœ€ç‰¹å¾çš„è“å›¾ï¼Œå› æ­¤ä½¿ç”¨UMLå›¾ã€‚

æŒ‰ç…§ä¸Šé¢æåˆ°çš„æ–¹æ³•å¯ä»¥ç¼“è§£å¾ˆå¤šå…³äºç³»ç»Ÿçš„éº»çƒ¦å’Œè¯¯è§£ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œè®¾è®¡ç¼ºé™·é€šå¸¸ä¹Ÿä¼šè¢«æ•è·ã€‚

UMLæœ€åˆæ˜¯åœ¨ç™½æ¿ä¸Šçš„è‰å›¾ï¼Œå…·æœ‰æœ€å°‘é‡çš„ç»†èŠ‚ï¼Œä»¥ä¾¿ä¸å›¢é˜Ÿæˆå‘˜è¿›è¡Œè®¾è®¡è®¨è®ºã€‚åœ¨æœ€ç»ˆç¡®å®šå†³ç­–æ—¶ï¼Œå°†ç›¸å…³è‰å›¾æ”¾åœ¨æ›´å¤æ‚çš„å·¥å…·ä¸Šï¼Œæœ€ç»ˆç»“æœå°†ä½œä¸ºç¨‹åºå‘˜ä½¿ç”¨çš„è“å›¾ã€‚

## 2. åŸºæœ¬çš„UMLç±»å‹

æ ¹æ®æ‚¨çš„ä½¿ç”¨æƒ…å†µï¼Œæœ‰è®¸å¤šUMLå›¾å¯ä¾›é€‰æ‹©ã€‚ä½†æ˜¯ï¼Œå®ƒä»¬è¢«åˆ†ç±»ä¸º**ç»“æ„**å’Œ**è¡Œä¸º** UMLå›¾é›†ã€‚

ç»“æ„å›¾åæ˜ äº†ç³»ç»Ÿçš„ç»“æ„ï¼Œè€Œè¡Œä¸ºå›¾æè¿°äº†ç³»ç»Ÿåœ¨æŸäº›æ“ä½œä¸‹çš„ååº”ã€‚æ€»å…±æœ‰14ä¸ªUMLå›¾è¡¨; æœ‰äº›å¾ˆé‡è¦ï¼Œæœ‰äº›åˆ™ä¸é‚£ä¹ˆé‡è¦ã€‚å®ƒä»¬å¦‚ä¸‹......

### 2.1 ç»“æ„UMLå›¾

- [ç±»å›¾](http://plantuml.com/class-diagram)
- [å¯¹è±¡å›¾](http://plantuml.com/object-diagram)
- [ç»„ä»¶å›¾](http://plantuml.com/component-diagram)
- [éƒ¨ç½²å›¾](http://plantuml.com/deployment-diagram)
- åŒ…å›¾
- å¤åˆç»“æ„å›¾
- éƒ¨ç½²å›¾

### 2.2 è¡Œä¸ºUMLå›¾

- [ç”¨ä¾‹å›¾](http://plantuml.com/use-case-diagram)
- [æ´»åŠ¨å›¾](http://plantuml.com/activity-diagram-beta)
- [åºåˆ—å›¾](http://plantuml.com/sequence-diagram)
- [çŠ¶æ€å›¾](http://plantuml.com/state-diagram)
- é€šè®¯å›¾
- [æ—¶åºå›¾](http://plantuml.com/timing-diagram)
- äº¤äº’æ¦‚è¿°å›¾

### 2.3 ...

æˆ‘ä»¬åªä¼šç¼–å†™å‡ ä¸ªä¸åŒçš„ä»£ç ã€‚è·Ÿç€ä½ ï¼Œä½ å°†é€šè¿‡ç¼–ç å›¾è¡¨æ‰¾å‡ºæˆ‘çš„æ„æ€ã€‚

## 3. å¯ç”¨çš„å»ºæ¨¡å·¥å…·

å¯¹äºå»ºæ¨¡ï¼Œç®€å•çš„ç¬”å’Œçº¸å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ä½†æ˜¯ï¼Œå¯¹äºæŒä¹…çš„æ–‡æ¡£å’Œé¢‘ç¹çš„ç¼–è¾‘ç›®çš„ï¼Œæ‚¨å¯èƒ½å¸Œæœ›å¯»æ‰¾æ›´å¤šçš„ä¸“ä¸šçº§å·¥å…·ã€‚å·¥å…·çš„é€‰æ‹©å¯ä»¥æ˜¯æ¡Œé¢ï¼Œåœ¨çº¿æˆ–åªæ˜¯IDEï¼ˆé›†æˆå¼€å‘ç¯å¢ƒï¼‰æ’ä»¶çš„å½¢å¼ã€‚æœ‰äº›äººå¯èƒ½ä¼šè¦æ±‚æ‚¨æ¯æœˆ/æ¯å¹´è®¢é˜…ï¼Œè€Œæœ‰äº›åˆ™æ˜¯å…è´¹è½¯ä»¶ã€‚ä¸€äº›ä¼—æ‰€å‘¨çŸ¥çš„å·¥å…·å¦‚ä¸‹ï¼š

| ***\*äº§å“\****                                               | ***\*å¹³å°\**** | ***\*å®šä»·æ¨¡å‹\**** |
| ------------------------------------------------------------ | -------------- | ------------------ |
| [***\*Microsoft Visio\****](https://support.office.com/en-us/article/install-visio-f98f21e3-aa02-4827-9167-ddab5b025710) | æ¡Œé¢/åœ¨çº¿      | å…±äº«è½¯ä»¶           |
| [***\*draw.io\****](http://draw.io/)                         | çº¿ä¸Š           | å…è´¹è½¯ä»¶           |
| [***\*LicidChart\****](https://www.lucidchart.com/)          | çº¿ä¸Š           | å…±äº«è½¯ä»¶/å…è´¹è½¯ä»¶  |
| [***\*PlantUML\****](http://plantuml.com/)***\*ï¼Œ\*******\*[\*\*Eclipse UML2\*\*](https://www.eclipse.org/modeling/mdt/downloads/?project=uml2tools)\**** | IDEæ’ä»¶/æ‰©å±•   | å…è´¹è½¯ä»¶           |

## 4. PlantUMLçš„æ•‘æ´

è™½ç„¶Visioå’Œ[draw.io](http://draw.io/)çœ‹èµ·æ¥éƒ½æ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œä½†æ˜¯åœ¨å…è´¹è¯•ç”¨æœŸåéœ€è¦å‡ ç¾å…ƒï¼Œè€Œå¦ä¸€ä¸ªéœ€è¦æŒç»­çš„äº’è”ç½‘è¿æ¥ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆPlantUMLå¬èµ·æ¥å¾ˆæ£’ï¼Œå¦‚æœä½ åˆšå¼€å§‹å¹¶åŠªåŠ›åšäº†ä¸€ä¸ªå†³å®šã€‚

PlantUMLæ‰¿æ‹…äº†ä¸€äº›å›¾è¡¨ç»˜åˆ¶çš„å·¥ä½œï¼Œæœ‰äº›ä¸åŒã€‚ä¸ä»å·¥å…·ç®±ä¸­æ‹–æ”¾ä¸åŒå½¢çŠ¶å¹¶è¿æ¥å®ƒä»¬ä¸åŒï¼Œæ‚¨å¯ä»¥æ ¹æ®ä¼ªç¼–ç¨‹è¯­è¨€è¡¨è¾¾å›¾è¡¨ã€‚è¿™ç§è¯­è¨€å¾ˆå®¹æ˜“ç†è§£ï¼Œå¹¶ä¸”ä¸éœ€è¦èŠ±è´¹å¤ªå¤šæ—¶é—´æ¥å­¦ä¹ ã€‚

## 5. Visual Studio Codeé›†æˆ

PlantUMLæ”¯æŒå„ç§IDEé›†æˆã€‚æ‰€æœ‰æ”¯æŒçš„IDEéƒ½åˆ—åœ¨PlantUMLå®˜æ–¹ç½‘ç«™ä¸Šï¼Œhttp://plantuml.com/runningã€‚

æˆ‘ä»¬é€‰æ‹©VS Codeï¼Œå› ä¸ºå®ƒæœ€è¿‘å¾ˆçƒ­ï¼Œè€Œä¸”æ²¡æœ‰åœæ­¢å®ƒçš„è¿¹è±¡ã€‚åœ¨VS Codeä¸Šå®‰è£…PlantUMLæ‰©å±•ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å…·æœ‰ä»¥ä¸‹å…ˆå†³æ¡ä»¶ï¼š

- [Java](https://www.java.com/en/download/)
- [GraphViz](https://www.graphviz.org/download/)

å¯¹äºWindowsç”¨æˆ·ï¼Œå¦‚æœæ‚¨æœ‰Chocolateyï¼ˆWindowsçš„åŒ…ç®¡ç†å™¨ï¼‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç®€åŒ–å®‰è£…è¿‡ç¨‹ï¼š

```bash
choco install plantuml
```

æ‚¨å¯ä»¥ä»â€œ***\*æ‰©å±•\*******\*â€\****é€‰é¡¹å¡ä¸­æœç´¢å¹¶å®‰è£…PlantUMLæ‰©å±•ã€‚å®ƒå¯ä»¥åœ¨Visual Studioå¸‚åœºä¸­ä½¿ç”¨ã€‚æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡åœ¨Windowsä¸ŠæŒ‰***\*Ctrl + Shift + P\****æˆ–åœ¨Macä¸ŠæŒ‰***\*Command + Shift + P\****æ¥ä½¿ç”¨VS Codeå‘½ä»¤é¢æ¿ï¼Œç„¶åé”®å…¥ï¼š

```bash
ext install plantuml
```

![img](imgs/21231.png)

## 6. ç¼–å†™å°‘æ•°æ¨¡å‹

å¦‚å‰æ‰€è¿°ï¼Œåœ¨PlantUMLä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¼ªç¼–ç¨‹è¯­è¨€æ¥ç”Ÿæˆå›¾è¡¨ã€‚æ­¤ä»£ç æ–‡ä»¶å¯ä»¥å…·æœ‰ä»¥ä¸‹æ–‡ä»¶æ‰©å±•åä¹‹ä¸€ï¼š

***\** .wsd\**** ***\*ï¼Œ\*******\** .pu\**** ***\*ï¼Œ\*******\** .puml\**** ***\*ï¼Œ\*******\** .plantuml\**** ***\*ï¼Œ\*******\** .iuml\****

è¦è¿›è¡Œæµ‹è¯•è¿è¡Œï¼Œè¯·åˆ›å»ºåŒ…å«ä»»ä½•ä¸Šè¿°æ‰©å±•åçš„æ–‡ä»¶å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç ï¼š

```bash
@startuml



scale 3



Alice -> Bob : test



@enduml
```

æŒ‰***\*Alt + D\****æˆ–***\*Option + D\****å¯é¢„è§ˆç”Ÿæˆçš„å›¾è¡¨ã€‚

![img](imgs/20190310211238823.png)

**å›¾2 åœ¨VSä»£ç ä¸­ä½¿ç”¨PlantUMLè¿›è¡Œæµ‹è¯•è¿è¡Œ**

### ç±»å›¾

ç±»å›¾è¡¨ç¤ºç³»ç»Ÿä¸­çš„å¯¹è±¡ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å„ç§å…³ç³»ã€‚è¿™æ˜¯æ‚¨åœ¨è®¾è®¡ç³»ç»Ÿæ—¶é‡åˆ°çš„æœ€å¸¸è§çš„UMLå›¾ã€‚ç±»åŒ…å«çš„å±æ€§ä»…æ˜¯å­—æ®µã€å±æ€§å’Œæ“ä½œï¼Œè€Œè¿™äº›å±æ€§åªæ˜¯ç®€å•çš„æ–¹æ³•ã€‚å±æ€§å’Œæ“ä½œéƒ½æœ‰è‡ªå·±çš„å¯è®¿é—®ä¿®é¥°ç¬¦ï¼ˆå¯è§æ€§ï¼‰ï¼Œç”¨è¿ç®—ç¬¦è¡¨ç¤ºï¼Œå¦‚ï¼ˆ+ï¼Œ - ï¼Œã€œï¼Œï¼ƒï¼‰ï¼Œä¾‹å¦‚+ field1è¡¨ç¤ºç±»ä¸­æœ‰ä¸€ä¸ªå­—æ®µæ˜¯publicã€‚

ç®¡ç†è®­ç»ƒè¥çš„ç±»å›¾å¯èƒ½å…·æœ‰ä»¥ä¸‹ä½“ç³»ç»“æ„ï¼š

![img](imgs/asdfsa.png)

***\**å›¾\**\******\**3\**\******\**ï¼šè®­ç»ƒè¥ç®¡ç†çš„ç±»å›¾\**\***

ç›¸åº”çš„PlantUMLä¼ªä»£ç å¦‚ä¸‹ï¼š

```bash
@startuml



scale 2



class Event {



    +startTime: DateTime



    +venue: string



    +registrationClosed: boolean



    -notifyAttendes()



}



 



class ApplicationUser {



    -userName: string



    -password: string



    +isLocked: boolean



    -suggestRandomPasswod()



    +changeProfilePic()



}



 



class Speaker {



    +openForSpeaking: boolean



    -callForAction()



    +applyAsSpokePerson()



}



 



class Topic {



    +title: string



    +sourceCodeUrl: string



    +downloadMaterials()



}



 



class Attendee {



    -eventAttended: number



    -suggestEventBasedOnPreference()



    +registerForTicket()



}



 



ApplicationUser <|-- Speaker



ApplicationUser <|-- Attendee



Speaker "1" *-- "*" Topic



Event "1" o-- "*" Speaker



Event "1" o-- "*" Attendee



@enduml
```

å›¾ä¸­çš„ä¸€äº›ç¬¦å·å€¼å¾—ä¸€æã€‚å®ƒä»¬ä»¥æ›´è¡¨æ ¼çš„æ–¹å¼æè¿°ã€‚

| ***\*å›¾å½¢ç¬¦å·\**** | ***\*PlantUML\*******\*è¡¨ç¤ºæ³•\**** | ***\*å«ä¹‰\**** |
| ------------------ | ---------------------------------- | -------------- |
| ç©ºç®­å¤´             | <\|â€”                               | æ³›åŒ–/ç»§æ‰¿      |
| å¡«å……è±å½¢ç®­å¤´       | *â€”                                 | ç»„æˆ           |
| ç©ºè±å½¢ç®­å¤´         | oâ€”                                 | èšåˆ           |

### æ´»åŠ¨å›¾

æ´»åŠ¨å›¾å¹¿æ³›ç”¨äºæè¿°ä¸šåŠ¡æµç¨‹å’Œå·¥ä½œæµç¨‹ã€‚å®ƒçœ‹èµ·æ¥ç±»ä¼¼äºæµç¨‹å›¾ã€‚ä½†æ˜¯ï¼Œå®ƒä»¬æ”¯æŒé¡ºåºå’Œå¹¶è¡Œè¡Œä¸ºã€‚

æ´»åŠ¨å›¾å¯ä»¥åœ¨å‚ç›´æ³³é“ä¸­ç»„ç»‡ï¼Œä¹Ÿå¯ä»¥ä¸ç»„ç»‡ã€‚æ³³é€šé“è¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªå‚ä¸è€…å‚ä¸å·¥ä½œæµç¨‹ã€‚åœ¨æ´»åŠ¨å›¾ä¸­ï¼Œå®Œæ•´çš„é»‘è‰²åœ†åœˆè¡¨ç¤ºè¿‡ç¨‹çš„å¼€å§‹ï¼Œè€Œå†…éƒ¨å¸¦æœ‰é»‘ç‚¹çš„ç©ºå¿ƒåœ†åœˆè¡¨ç¤ºç»“æŸã€‚å¤šè¾¹å½¢é€šå¸¸æ˜¯å†³ç­–é˜¶æ®µã€‚æ°´å¹³æ¡è¡¨ç¤ºå¹¶è¡Œå‘ç”Ÿä¸¤ä¸ªæˆ–å¤šä¸ªåŠ¨ä½œã€‚

åœ¨çº¿æ¸¸æˆè´­ä¹°ç³»ç»Ÿçš„æ´»åŠ¨å›¾å¯ä»¥å…·æœ‰ä»¥ä¸‹å¤„ç†æµç¨‹ï¼š

![img](imgs/20190310211238901.png)

***\**å›¾\**\******\**4\**\******\**ï¼šåœ¨çº¿æ¸¸æˆè´­ä¹°è¿‡ç¨‹çš„æ´»åŠ¨å›¾\**\***

ç›¸åº”çš„PlantUMLä¼ªä»£ç å¦‚ä¸‹ï¼š

```bash
@startuml



scale 2



start



:Add games to cart;



:Checkout;



:Check cookie;



while (if cookie?) is (is invalid)



:Show login form;



endwhile



fork



:Mail invoice;



fork again



:Load games;



end fork



:Install and play;



stop



@enduml
```

### å¯¼å‡ºæ–‡æ¡£

PlantUMLæ”¯æŒå°†å›¾è¡¨å¯¼å‡ºä¸ºä¸åŒçš„æ–‡ä»¶æ ¼å¼ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å—æ”¯æŒçš„ç±»å‹ï¼š

***\** .png\*******\*ï¼Œ\*******\** .svg\*******\*ï¼Œ\*******\** eps\*******\*ï¼Œ\*******\** .pdf\*******\*ï¼Œ\*******\** vdx\*******\*ï¼Œ\*******\**\*******\*ã€‚\*******\*xmi\*******\*ï¼Œ\*******\** scmi\*******\*ï¼Œ\*******\** html\*******\*ï¼Œ\*******\** .txt\*******\*ï¼Œ\*******\** .utxt\*******\*ï¼Œ\*******\** .latex\****

![img](imgs/20190310211238854.png)

***\**å›¾\**\******\**5\**\******\**ï¼šä½¿ç”¨\**\******\**PlantUML\**\******\**ä»\**\******\**VS\**\******\**ä»£ç å¯¼å‡ºå›¾è¡¨\**\***

é»˜è®¤å¯¼å‡ºä½ç½®è®¾ç½®ä¸ºæ¡Œé¢ã€‚ä½†æ˜¯ï¼Œä¸‹é¢çš„VS Codeç”¨æˆ·è®¾ç½®å°†ç¡®ä¿ä¼ªä»£ç å’Œå›¾è¡¨éƒ½ä¸æºä»£ç ç›®å½•ä¸€èµ·å­˜åœ¨äºåä¸ºâ€œdocsâ€çš„æ–‡ä»¶å¤¹ä¸­ã€‚

```bash
"plantuml.diagramsRoot": "docs/diagrams/src",



"plantuml.exportOutDir": "docs/diagrams/out"
```

æ‚¨å°†è·å¾—å¦‚ä¸‹å¯¼å‡ºç»“æœï¼š

```bash
Project Folder/  



    docs/        



       diagrams/            



           src/                



               architecture_overview.wsd            



           out/                



               architecture_overview.png
```

## 7. ç»“è®º

æœ¬æ–‡å‡ ä¹æ²¡æœ‰æ¶‰åŠUMLçš„å†…å®¹ã€‚å¯¹UMLçš„è®¨è®ºå¾ˆå¹¿æ³›ï¼Œéœ€è¦ä¸€äº›æ—¶é—´æ¥å­¦ä¹ ã€‚ä»é¡¶å±‚åªè®¨è®ºäº†å‡ ä¸ªå›¾è¡¨ï¼Œè€Œé‡ç‚¹æ›´å¤šåœ°æ”¾åœ¨PlantUMLè€Œä¸æ˜¯UMLæœ¬èº«ã€‚å»ºè®®è¿›ä¸€æ­¥é˜…è¯»ä»¥æ›´å¥½åœ°ç†è§£UMLçš„ç»†èŠ‚ã€‚ä»¥ä¸‹ä¹¦ç±å¯ä»¥å¸®åŠ©æ‚¨å¯åŠ¨å’Œè¿è¡Œï¼š

- [å­¦ä¹ UML 2.0ï¼šUMLçš„å®ç”¨ä»‹ç»](https://www.amazon.com/_/dp/0596009828?tag=oreilly20-20)
- [UML Distilledï¼šæ ‡å‡†å¯¹è±¡å»ºæ¨¡è¯­è¨€ç®€ä»‹ï¼ˆç¬¬3ç‰ˆï¼‰](https://www.amazon.com/UML-Distilled-Standard-Modeling-Language/dp/0321193687)

 